-*-mode: org; coding: utf-8;-*-
#+STARTUP: showall
* Notes taken via M-x remember
** Wed Mar  9 12:34:42 2016 (Listing relevant methods would be helpful too. How is get_tw)

Listing relevant methods would be helpful too. How is get_twill_user
used by the super class? All the subclasses have to define it.

/Users/swain/notebooks/developer-notes/swain/notes/class_diagram_test_module.txt

** Fri Mar 18 14:19:40 2016 (New subproject: document all page attributes. For example:)

New subproject: document all page attributes. For example:

#+BEGIN_EXAMPLE
24HourUploadWindow.html            :#attr actions = (
AddEditGranteeLegalPhase.html      :#attr actions = (
AddEditGranteeLegalPhase.html      :#attr user_page = True
ConfirmBranchCSV.html              :#attr actions = (
ConfirmBranchCSV.html              :#attr translated = False
ConfirmBranchCSV.html              :#attr user_page = True
CreateUser.html                    :#attr actions = (
CreateUser.html                    :#attr user_page = True
CreateUser.html                    :#attr create_user = True 
DisableUserAccount.html            :#attr user_page = True
DisableUserAccount.html            :#attr actions = (
EditGrantee.html                   :#attr actions = (
EditGrantee.html                   :#attr user_page = True
EditGranteeExpectedProduction.html :#attr actions = (
EditGranteeExpectedProduction.html :#attr user_page = True
EditUser.html                      :#attr user_page = True
EditUser.html                      :#attr actions = 'user_actions.EditUserForm.run_controller'
OrganizationDetails.html           :#attr user_page = True
OrganizationDetails.html           :#attr grantee_details_page = True
OrganizationDetails.html           :#attr actions = (
Search.html                        :#attr actions = (
Search.html                        :#attr title = 'Search Dialog'
Search.html                        :#attr translated = False
Search.html                        :#attr search_page = True
Search.html                        :#attr myuri = '/user/Search.html'
SendTestEmail.html                 :#attr actions = (
SendTestEmail.html                 :#attr user_page = True
UploadBranchCSV.html               :#attr actions = (
UploadBranchCSV.html               :#attr translated = False
UploadBranchCSV.html               :#attr user_page = True
UserDetails.html                   :#attr user_page = True
UserDetails.html                   :#attr user_details_page = True
UserDetails.html                   :#attr actions = (
index.html                         :#attr user_page = True
index.html                         :#attr actions = 'user_actions.enforce_user_or_grantee_management_permissions'
#+END_EXAMPLE



/Users/swain/notebooks/developer-notes/swain/LOG.org

** Fri Mar 18 14:20:04 2016 (Profile Python some more.)

Profile Python some more.

Playing with cProfile a little bit:

#+BEGIN_EXAMPLE
(27production0)bash-3.2$ !cat
cat foo.py
import datasource; con = datasource.quick_setup(site='nfmc')
import model
(27production0)bash-3.2$ python -m cProfile -s cumtime foo.py 2>/dev/null | /usr/bin/head -20
         5570545 function calls (5564782 primitive calls) in 2.519 seconds

   Ordered by: cumulative time

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.001    0.001    2.532    2.532 foo.py:1(<module>)
        1    0.000    0.000    2.380    2.380 datasource.py:158(quick_setup)
        1    0.000    0.000    2.380    2.380 datasource.py:177(_quick_setup)
    41/33    0.003    0.000    2.373    0.072 {__import__}
        1    0.000    0.000    2.356    2.356 datasource.py:204(configure_database)
        1    0.000    0.000    2.356    2.356 __init__.py:20(import_module)
        1    0.006    0.006    2.355    2.355 pippin_authorizer.py:1(<module>)
        1    0.004    0.004    2.240    2.240 pippin.py:2(<module>)
        1    0.001    0.001    2.206    2.206 BaseTemplate.py:1(<module>)
        1    0.001    0.001    2.203    2.203 buildconfiguration.py:1(<module>)
        1    0.002    0.002    2.200    2.200 officedb.py:1(<module>)
     1400    0.011    0.000    2.141    0.002 model.py:53(copy_locals)
     1401    0.001    0.000    2.136    0.002 inspect.py:1058(stack)
     1401    0.022    0.000    2.134    0.002 inspect.py:1031(getouterframes)
    28298    0.095    0.000    2.107    0.000 inspect.py:993(getframeinfo)
#+END_EXAMPLE

One thing that stood out is a lot of time seems to be spent in
BaseTemplate. Perhaps that's related to what's been discussed on the
morning calls lately; John and Derek, I think, have been working on
optimizing stuff for waitlist.

When I'm less tired:
https://docs.python.org/2/library/profile.html



/Users/swain/notebooks/developer-notes/swain/LOG.org

** Mon Mar 21 10:04:15 2016 (Implementing vim's "dot")

Implementing vim's "dot"

I still, to this day, want the old "dot" command from vim.

To implement, it might work this way:

1. take last command executed from command history ring
2. assign that command to a particular key; maybe even "period" for
the hell of it, and then....
2b. unassign the command from the period key, but that might be a bit
much.

If, however, we choose some rarely-used key like F7 we should be good.

See also repeat-complex-command.

** Tue May 24 10:20:05 2016 (Run SQL queries against your Python codebase)

Run SQL queries against your Python codebase

This is a wonky idea, but one could populate a SQLite database via
'inspect' and then run queries on that database.

I felt the need for this when I was wondering if we have any
subclasses of RelationObject that use a database view as the
TABLE_NAME. I could run some 'inspect' code in IPython to find out,
but it's kind of tedious to do it that way.

Perhaps there's a class diagramming tool that would do the same,
except visually.

** Wed Jul 20 10:22:58 2016 (ipython syntax highlighting for org-mode)

ipython syntax highlighting for org-mode

There should be some way to do this.

#+BEGIN_SRC ipython
In [62]: mine = datetime.now(pytz.utc)

In [63]: mine
Out[63]: datetime.datetime(2016, 7, 20, 14, 19, 18, 83760, tzinfo=<UTC>)

In [64]: # then there's that

In [65]: his = datetime.utcnow()

In [66]: his
Out[66]: datetime.datetime(2016, 7, 20, 14, 19, 34, 691188)
#+END_SRC


/Users/swain/notebooks/developer-notes/swain/LOG.org

** Mon Jul 25 12:51:19 2016 (Write patch for org-mode)

Write patch for org-mode

Make fill-individual-paragraphs work for ordered lists.

/Users/swain/notebooks/developer-notes/swain/notes/supp_grant_notes.org

** Wed Aug  3 17:47:06 2016 (Automate diffing a branch against an ancient master)

Automate diffing a branch against an ancient master

See my log entry for: Thu Sep  3 12:43:36 2015

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Mon Oct 31 11:59:51 2016 (Tweak the documentation system so all tables and views...)

Tweak the documentation system so all tables and views...


...that don't have a COMMENT on them display in a different color.


** Mon Nov 21 14:56:01 2016 (Add a new doodad to the Pipeline)

Add a new doodad to the Pipeline

Create a class that accepts a column "Comment" for any CSV file.

I can put this class at the front of the pipeline, and can then insert
comments into my CSV files.

The pipeline manager will just ignore any column with the header
"Comment".


** Mon Nov 21 23:07:09 2016 (Add a check to the bootstrapper to fail immediately if any r)

Add a check to the bootstrapper to fail immediately if any required
files are not present.

** Mon Nov 21 23:11:13 2016 (Add two new output messages for phase UI)

Add two new output messages for phase UI

Don't fail on an assertion; give 'em helpful messages:

Summary: One fix, one new check

If the file for CounselingDollarAmount was not present, the
bootstrapper failed in a bad way. It did not bail out but kept on
trying to process.

Also check that a grantee's new phase starts after any old phase's
last upload date (the date they are last allowed to upload, that
is). It would violate a database constraint anyway.

In a later branch I'll capture the above errors into proper output
messages. In this branch the bootstrapper is still kind of "proto."



/Users/swain/git/pippin/sites/nfmc-reporting/mods/bootstrap_performance_period.py

** Mon Nov 21 23:49:50 2016 (We assert new grantees have a phase. Now make it a nice mess)

WE assert new grantees have a phase. Now make it a nice message and
roll back in the UI branch

/Users/swain/git/pippin/sites/nfmc-reporting/mods/bootstrap_performance_period.py

** Wed Nov 23 11:52:32 2016 (Need a good test of bootstrapping. It should test as many sc)

Need a good test of bootstrapping. It should test as many scenarios as
is practical.

** Mon Dec  5 10:47:54 2016 (why does the test code pass at 20% for rounds in undo upload)

why does the test code pass at 20% for rounds in undo upload

yet it fails when I run it for phases? Is it using a different set of thresholds?

** Wed Dec  7 16:36:11 2016 (Write something to prove)

Write something to prove
all rows in those jumbo views have PR xor SG fields populated.

** Mon Dec 12 09:58:33 2016 (Make a test for bootstrapping)

Make a test for bootstrapping

Test that newly created dollar amounts, interesting zip codes etc. are
created first and new phases use those values.

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Mon Dec 12 14:04:27 2016 (test bootstrapping variances)

test bootstrapping variances

Test what happens when NWA import two, three, or four variances
instead of the expected five.

/Users/swain/workbench/supplemental_grants/csvfolders/too_many_rows/variances.csv

** Fri Dec 16 14:06:45 2016 (It may be that we will want the label of a)

It may be that we will want the label of a
supplemental grant phase to include the grantee's name or
pcode. finding all "phase 1" might be useless otherwise.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/model.py

** Sat Dec 17 13:57:00 2016 (What should happen if I call reporting_period.round_or_phase)

What should happen if I call reporting_period.round_or_phase_id on a
quarter-based reporting period?


/Users/swain/notebooks/developer-notes/swain/LOG.org

** Sun Dec 18 10:34:01 2016 (We may want to pow-wow with NWA on which quarters grantees c)

We may want to pow-wow with NWA on which quarters grantees can report
PMC.

This might be a formula such that: earliest_counseling_intake_date_*
falls before Dec 31 2016.

** Mon Dec 19 13:10:26 2016 (Should we change PMC setting in the near future?)

Should we change PMC setting in the near future?

PMC (post mortgage counseling) ends this year. But I think uploads
with counseling intake dates before Dec 31, 2016 will support PMC.

Perhaps I should file a ticket. I think I'll make all performance
periods ask_pmc_questions="true" by default. This needs to be changed
when phases have an earlest intake date after 2017.



/Users/swain/notebooks/developer-notes/swain/LOG.org

** Mon Dec 19 14:10:41 2016 (Fixme: May leave this for rounds only, but probably need one)

Fixme: May leave this for rounds only, but probably need one for
phases.

	@classmethod
	def find_final_reports_for_round(cls, program_round_id):
		return cls.findByQuery(
			"""
			reporting_period_id = (
				SELECT
					rp.id
				FROM
					nfmc.reporting_period AS rp
				WHERE
					rp.program_round_id = %s
			)
			""",
			(program_round_id,),
			)



/Users/swain/git/pippin/sites/nfmc-reporting/mods/model.py

** Mon Dec 19 16:22:28 2016 (After the final report is accepted, make sure they cannot up)

After the final report is accepted, make sure they cannot upload.

** Wed Dec 21 09:15:08 2016 (bug:)

bug:

 Warning: you have 2 quarterly report(s) available to you, but you
 have not uploaded any counseling CSV data. Please begin uploading
 your counseling CSV data immediately.

But one is quarterly, the second is final

/Users/swain/git/pippin/sites/nfmc-reporting/mods/tests/test_sg_programmatic_reports.py

** Wed Dec 21 12:29:16 2016 (file a ticket to rewrite generate_new_reports)

file a ticket to rewrite generate_new_reports

If we want to use this to create supplemental grant quarterly reports
it will need to be rewritten; maybe we'll just write a complementary
method though, and not touch this one.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/model.py

** Wed Dec 21 15:39:50 2016 (add checks to tests for has_submitted_csv)

add checks to tests for has_submitted_csv

This should be cheap and easy to add to, say, the prog report tests.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/model.py

** Wed Dec 21 17:04:01 2016 ( write a validator proving counseling_programmatic_report)

 write a validator proving counseling_programmatic_report

proving counseling_programmatic_report.reporting_period_id and
counseling_programmatic_report.round_or_phase_id are correct.

In other works you cannot have a reporting quarter id and a
supplemental grant phase id.

** Wed Dec 21 17:09:49 2016 (rename reporting_period.reporting_period_id to reporting_per)

rename reporting_period.reporting_period_id to reporting_period.performance_period_id

** Thu Dec 29 14:37:07 2016 (PolyTimePeriodSelectAspect still uses ProgramRound.findAll())

PolyTimePeriodSelectAspect still uses ProgramRound.findAll()

	def _fetch_applicable_rounds_or_phases(self):
		return ProgramRound.findAll()

This is overridden in SingleGranteePolyTimePeriodSelectAspect, but it
may be other reports use this one directly. Check on it.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/nfmcreporting/nfmc_aspects.py

** Thu Dec 29 15:39:17 2016 (file a ticket to rename PhasesHelper and SubPhasesHelper)

file a ticket to rename PhasesHelper and SubPhasesHelper

** Thu Dec 29 18:47:14 2016 (We now have a RoundOrPhase class, but we can also get a Prog)

We now have a RoundOrPhase class, but we can also get a ProgramRound
or SupplementalGrantPhase. Is this bad?

** Mon Jan  2 13:48:37 2017 (drop view grantee_reporting_data_with_period_id )

drop view grantee_reporting_data_with_period_id 

** Wed Jan 11 07:25:18 2017 (Shortening a phase may mean deleting rows from nfmc.fiscal_q)

Shortening a phase may mean deleting rows from nfmc.fiscal_quarter

If that's the case, it might provide a "natural" defense against
shortening a phase past the last date records were uploaded. The
DELETE should fail on nfmc.fiscal_quarter because there are rows
fkeying to it from nfmc.grantee_reporting_data_to_fiscal_quarter.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/model.py

** Wed Jan 11 10:18:22 2017 (GranteeReportingData's quarter field is None when it's an SG)

GranteeReportingData's quarter field is None when it's an SGQ

Process Python finished
WARNING: Attempting to work in a virtualenv. If you encounter problems, please install IPython inside the virtualenv.
Python 2.7.12 (default, Oct 11 2016, 14:42:58) 
Type "copyright", "credits" or "license" for more information.

IPython 4.0.0 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]: 
In [2]: 
In [3]: 
In [4]: %store -r

In [5]: import datasource; con = datasource.quick_setup(site='nfmc')

In [6]: import model

In [7]: records = model.GranteeReportingData.findByQuery(
   ....: "grantee_id = 2637")

In [20]: 

In [20]: records
Out[20]: 
[{'last_name': u'Alejandro', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Alex St.', 'id': 3416839L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'8', 'counseling_outcome_id': None, 'household_id': 2501067L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'8', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'},
 {'last_name': u'Albert', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Alberto St.', 'id': 3416838L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'7', 'counseling_outcome_id': None, 'household_id': 2501066L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'7', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'},
 {'last_name': u'Alan', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Alastair St.', 'id': 3416837L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'6', 'counseling_outcome_id': None, 'household_id': 2501065L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'6', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'},
 {'last_name': u'Al', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Alain St.', 'id': 3416836L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'5', 'counseling_outcome_id': None, 'household_id': 2501064L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'5', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'},
 {'last_name': u'Amy', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Ami St.', 'id': 3416835L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'4', 'counseling_outcome_id': None, 'household_id': 2501063L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'4', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'},
 {'last_name': u'Ahmet', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Aimee St.', 'id': 3416834L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'3', 'counseling_outcome_id': None, 'household_id': 2501062L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'3', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'},
 {'last_name': u'Agatha', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Ahmed St.', 'id': 3416833L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'2', 'counseling_outcome_id': None, 'household_id': 2501061L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'2', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'},
 {'last_name': u'Adlai', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Adrian St.', 'id': 3416832L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'1', 'counseling_outcome_id': None, 'household_id': 2501060L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'1', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'}]

In [21]: record = records[0]

In [22]: record
Out[25]: {'last_name': u'Alejandro', 'reporting_quarter_id': 102L, 'counseling_intake_date': datetime.date(2016, 10, 10), 'round_or_phase_id': 162L, 'street': u'Alex St.', 'id': 3416839L, 'city': u'Akron', 'first_name': u'James', 'street_number': u'8', 'counseling_outcome_id': None, 'household_id': 2501067L, 'zipcode': u'44333', 'state': u'OH', 'reporting_upload_event_id': 70052L, 'total_monthly_piti': 2000, 'branch': u'main', 'grantee_id': 2637L, 'client_uid': u'8', 'current_loan_number': u'67890', 'duplicate_record_id': None, 'client_id': None, 'counseling_level': 1, 'program_round_id': 162L, 'current_loan_servicer': u'Comercia Bank'}

In [26]: record.round_or_phase_id
Out[26]: 162

In [27]: record.reporting_quarter_id
Out[27]: 102L

In [28]: record.reporting_quarter

In [29]: # that might be a bug

In [30]: roundrecord = model.GranteeReportingData.findByPrimaryKey(3320002)

In [31]: roundrecord.reporting_quarter
Out[31]: {'end_date': datetime.date(2016, 9, 30), 'reporting_deadline': datetime.date(2016, 11, 1), 'reporting_possible': True, 'start_date': datetime.date(2016, 7, 1), 'label': u'Round 10 Period 2', 'extension_period': False, 'program_round_id': 10L, 'previous_quarter_id': 90L, 'id': 91L}

In [32]: 

** Mon Jan 16 10:02:29 2017 (Cull all entries in my log for using the difftool with git)

Cull all entries in my log for using the difftool with git

For one definitive entry in the cheatsheet

** Mon Jan 30 15:54:35 2017 (Probably update SG quarter labels to be more descriptive)

Probably update SG quarter labels to be more descriptive

Then hunt down everywhere they are changed and update them

** Tue Feb  7 13:08:15 2017 (need test coverage of boostrapping)

need test coverage of boostrapping

At the least, unit tests of the classes in
bootsrap_performance_period.py would be nice

/Users/swain/git/pippin/postgres/nfmc/nfmc/views/geographic_area_need_status_round_or_phase.sql

** Tue Feb  7 14:48:07 2017 (Add --zip to the args to generatefmc.py)

Add --zip to the args to generatefmc.py

Would like to be able to specify the zip code, and the correct state
is automatically inserted.

** Wed Feb  8 13:56:36 2017 (write doc entry for update to the jumbo views)

write doc entry for update to the jumbo views

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Wed Feb  8 16:22:08 2017 (How to annotate Emacs bookmarks)

How to annotate Emacs bookmarks

Somehow you can add annotations to them. Might be helpful to plop the
code chunck that's being bookmarked in case it moves. Or: copy the
code chunk to an org-mode file and bookmark the location in the
file. Possibilities abound.


/Users/swain/notebooks/developer-notes/swain/LOG.org

** Thu Feb  9 15:29:29 2017 (I wonder if we should validate this:)

I wonder if we should validate this:

#+BEGIN_SRC python
			FloatToFloorIntDataColumn(
				'final_total_award',
				column_header_names='FINAL COUNSELING AWARD', strip_chars="$,"),
#+END_SRC

The value is never used (so perhaps we should discard it?) but it
would be simple to add a function to verify it... well, it would be,
but NWA may be uploading new counseling dollar amounts too (dollar
amount per counseling session per level that is).

But in the oridinary, it would be:

assert final_total_award == (prs_amount + oo_amount + (level_1_units * 150) + (level_2_units * 300)

/Users/swain/git/pippin/sites/nfmc-reporting/mods/bootstrap_performance_period.py

** Mon Feb 13 11:01:14 2017 (write a report in R)

write a report in R

summing my productivity from the previous week.

Also start adding "st" and "dt" to my pomodoros: shallow tasks and deep
tasks

** Tue Feb 14 16:21:53 2017 (master xah-fly-keys)

master xah-fly-keys

never use meta or control again! live happily in terminals!

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Thu Feb 16 09:48:21 2017 (2x check on whether to use ceil or floor for checkpoints)

2x check on whether to use ceil or floor for checkpoints

this code should already exist in python-space, shouldn't it?
Maybe. Payment threshold stuff deals with dollar amounts. Performance
checkpoints deal with days.

/Users/swain/git/pippin/postgres/nfmc/nfmc/views/supplemental_grant_phase_checkpoint_date.sql

** Sun Feb 19 14:08:35 2017 (should there be a rule that the start_date)

should there be a rule that the start_date
cannot be earlier than the date of bootstrapping?

/Users/swain/git/pippin/sites/nfmc-reporting/mods/tests/datafixtures.py

** Mon Feb 20 16:14:52 2017 (Shirin's email about the update to the spec)

Shirin's email about the update to the spec

Re: Follow Up for Client Success Story in Quarterly/Final Programmatic Reports

** Mon Feb 20 17:16:52 2017 (craft a better TAGS table)

craft a better TAGS table

Ignore all the crap not relevant to me in the other
directories.... probably just need ~/git/pippin/py, everything under
nfmc-reporting, etc.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/model.py

** Tue Feb 21 09:20:02 2017 (continue with plantuml, which is promising.)

continue with plantuml, which is promising.

** Tue Feb 21 14:58:21 2017 ( switch to M-x term and use ipython that way)

 switch to M-x term and use ipython that way

It should be more usable. One will have to master term or ansi-term.

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Tue Feb 28 14:26:57 2017 (It might be helpful to add to one or both of the canned repo)

It might be helpful to add to one or both of the canned reports if the
phase length has been modified. This would just require a join on
nfmc.audit_log.


** Wed Mar  8 12:18:43 2017 (is email sent when prohibtion removed?)

is email sent when prohibtion removed?

/Users/swain/git/pippin/postgres/nfmc/dbUpdates.sga_cron_job_7071.sql

** Wed Mar 29 13:03:52 2017 (Update all SGA tickets with my hours of effort.)

Update all SGA tickets with my hours of effort.

** Thu Mar 30 11:05:23 2017 (Test improvement: test_canned_reports.py)

Test improvement: test_canned_reports.py

In addition to a test that hits the front page of every canned report
-- which shouldn't be that difficult to write -- the test runs on an
eviscerated database. Creating one "round" grantee and one "phase"
grantee, and uploading a small amount of production for each, should
greatly improve the coverage of this one test.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/nfmcreporting/nfmc_reports.py

** Tue Apr  4 10:03:26 2017 (superhistory: change bash config to append always!)

superhistory: change bash config to append always!

https://askubuntu.com/questions/67283/is-it-possible-to-make-writing-to-bash-history-immediate

** Wed Apr  5 15:27:37 2017 (write a test to tickle the bootstrapper with two phases that)

write a test to tickle the bootstrapper with two phases that overlap


** Fri Apr  7 14:49:58 2017 (Start changing things such that latest_possible_counseling_i)

Start changing things such that latest_possible_counseling_intake_date
is maybe 15 days before last_upload_date.

** Fri Apr  7 15:08:23 2017 (Write tests showing phase grantees can upload past)

Write tests showing phase grantees can upload past
latest_possible_counseling_intake_date, up to last_upload_date.

If we haven't covered that yet.

** Mon Apr 10 21:52:48 2017 (55%/75% canned report calculates days left wrong)

55%/75% canned report calculates days left wrong

It uses whatever the current value of
latest_possible_counseling_intake_date is, which might change over
time. Better to calculate and record that value by the cron job.

** Fri Apr 21 15:38:17 2017 (Create CSS class to give RoleBased report links a different )

Create CSS class to give RoleBased report links a different color

** Fri May 12 12:53:35 2017 (Dump my code that opens compilation in a new window.)

Dump my code that opens compilation in a new window.

Emacs has this functionality:

!
Special Buffer Frames

You can make certain chosen buffers, for which Emacs normally creates
a second window when you have just one window, appear in special
frames of their own. To do this, set the variable
special-display-buffer-names to a list of buffer names; any buffer
whose name is in that list automatically gets a special frame, when an
Emacs command wants to display it "in another window."

For example, if you set the variable this way,

(setq special-display-buffer-names
      '("*Completions*" "*grep*" "*tex-shell*"))

then completion lists, grep output and the TeX mode shell buffer get
individual frames of their own. These frames, and the windows in them,
are never automatically split or reused for any other buffers. They
continue to show the buffers they were created for, unless you alter
them by hand. Killing the special buffer deletes its frame
automatically.

More generally, you can set special-display-regexps to a list of
regular expressions; then a buffer gets its own frame if its name
matches any of those regular expressions. (Once again, this applies
only to buffers that normally get displayed for you in a separate
window.)

The variable special-display-frame-alist specifies the frame
parameters for these frames. It has a default value, so you don't need
to set it.

For those who know Lisp, an element of special-display-buffer-names or
special-display-regexps can also be a list. Then the first element is
the buffer name or regular expression; the rest of the list specifies
how to create the frame. It can be an association list specifying
frame parameter values; these values take precedence over parameter
values specified in special-display-frame-alist. Alternatively, it can
have this form:

(function args...)

where function is a symbol. Then the frame is constructed by calling
function; its first argument is the buffer, and its remaining
arguments are args.

An analogous feature lets you specify buffers which should be
displayed in the selected window. See section Forcing Display in the
Same Window. The same-window feature takes precedence over the
special-frame feature; therefore, if you add a buffer name to
special-display-buffer-names and it has no effect, check to see
whether that feature is also in use for the same buffer name.

ftp://ftp.gnu.org/old-gnu/Manuals/emacs-20.7/html_chapter/emacs_21.html

/Applications/Emacs.app/Contents/Resources/lisp/progmodes/compile.el.gz


** Wed Jun 28 14:57:59 2017 (Note to self: study this further)

Note to self: study this further


nworks=# create table testy (id int, withtz timestamp with time zone default now(), withouttz timestamp without time zone default now());
CREATE TABLE
Time: 1.705 ms
nworks=# insert into testy (id) values(1);
INSERT 0 1
Time: 3.226 ms
nworks=# select * from testy;
 id |            withtz             |         withouttz          
----+-------------------------------+----------------------------
  1 | 2017-06-28 11:53:31.056735-04 | 2017-06-28 11:53:31.056735
(1 row)


** Thu Jul  6 16:38:58 2017 (What to do now that the 6th quarter is gone?)

What to do now that the 6th quarter is gone?

I've removed it from the spec, but do records need to be related to a
quarter that doesn't exist? Will have to take that up later.

** Thu Aug 17 15:52:25 2017 (You can upload FC branches to a grantee not in the program)

You can upload FC branches to a grantee not in the program

** Wed Sep  6 14:42:24 2017 (Rename fields on GranteeWithPhaseFixture such that there's n)

Rename fields on GranteeWithPhaseFixture such that there's no
confusion with FC.

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Wed Sep  6 15:06:48 2017 (Change GranteeFixture's default name to include "NFMC")

Change GranteeFixture's default name to include "NFMC"

** Wed Sep  6 15:18:51 2017 (In the emails spreadsheet for FC, row 11 is a new email.)

In the emails spreadsheet for FC, row 11 is a new email.

And it's a feature I'm not aware of: "granted an additional two
business days."

** Thu Sep 14 12:25:59 2017 (periodic reports have a due date. must enforce.)

periodic reports have a due date. must enforce.


/Users/swain/notebooks/developer-notes/swain/LOG.org

** Thu Sep 14 12:26:17 2017 (quarter 6 must again exist, but will not have periodic repor)

quarter 6 must again exist, but will not have periodic report.

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Thu Sep 14 12:31:53 2017 (test: fill out periodc report. upload more records. submit)

test: fill out periodc report. upload more records. submit
report. should fail.

the answers may need changing due to the changing record count.

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Thu Sep 14 12:33:19 2017 (what if grantee submits, uploads rex, and NWA kicks back?)

what if grantee submits, uploads rex, and NWA kicks back?



/Users/swain/notebooks/developer-notes/swain/LOG.org

** Thu Sep 14 12:47:29 2017 (Test the CSV file for tab separation, report the error to th)

Test the CSV file for tab separation, report the error to the user.

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Sun Sep 17 20:19:46 2017 (Test: no FC final report link if grey zone rex)

Test: no FC final report link if grey zone rex

/Users/swain/git/pippin/sites/nfmc-reporting/mods/orgdetails.py

** Sun Sep 17 21:11:37 2017 (Create test: Phase.find_phases_needing_report_for_quarter)

Create test: Phase.find_phases_needing_report_for_quarter

Create phases in a quarter, not in a quarter, with a final report,
test that the returned results are correct

/Users/swain/git/pippin/sites/nfmc/fc/model/phase.py

** Tue Sep 19 13:22:56 2017 (bootstrap grantees into a phase 2)

bootstrap grantees into a phase 2

/Users/swain/notebooks/developer-notes/swain/LOG.org

** Tue Sep 19 14:24:10 2017 (Add the ability to kill programmatic reports.)

Add the ability to kill programmatic reports.

Do we have this already? I can't remember. I know we do it by hand and
have checks if they've filled out any questions.

** Tue Sep 26 11:34:01 2017 (Remove "Phase 1" from listing of completed programmatic repo)

Remove "Phase 1" from listing of completed programmatic reports

/Users/swain/git/pippin/sites/nfmc/fc/actions/navigation.py

** Wed Sep 27 10:06:46 2017 (Find out the acceeptable age ranges again....12-120?)

Find out the acceeptable age ranges again....12-120?

/Users/swain/git/pippin/postgres/nfmc/dbUpdates.trac_8172_fc_prog_reports.sql

** Tue Oct  3 11:45:34 2017 (what does method all_varying_values do?)

what does method all_varying_values do?

/Users/swain/git/pippin/sites/nfmc/fc/model/programmatic_report.py

** Tue Oct  3 13:15:40 2017 (Send Dale command line stuff to set up the demo server)

Send Dale command line stuff to set up the demo server

Build programmatic reports. Use a fake grantee bootstrapped into a
phase.

Bespin Associates or something.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/tests/test_phase_based_prog_reports.py

** Tue Oct  3 14:28:56 2017 (Question 16 is required if the answer to the first row of 15)

Question 16 is required if the answer to the first row of 15 is zero.

If they rec'd a MS award and haven't spent any of it they have to
answer why.

/Users/swain/git/pippin/postgres/nfmc/outcomes.pl

** Tue Oct  3 16:41:35 2017 (Unresolved issue: we don't know if a grantee got an MS award)

Unresolved issue: we don't know if a grantee got an MS award

** Tue Oct  3 21:53:06 2017 (Must pull cumulative dollar amount from somewhere in q18)

Must pull cumulative dollar amount from somewhere in q18

/Users/swain/git/pippin/sites/nfmc/fc/actions/programmatic_report.py

** Wed Oct  4 02:09:44 2017 (Need a printable version of the FC report)

Need a printable version of the FC report

/Users/swain/git/pippin/sites/nfmc-reporting/templates/grantee/WorkProgrammaticReport.html

** Wed Oct  4 09:28:41 2017 (Need hardcopies of the report questions for download)

Need hardcopies of the report questions for download

/Users/swain/git/pippin/sites/nfmc/fc/actions/programmatic_report.py

** Fri Oct  6 14:55:50 2017 ("YOu have not uploaded any counseling this quarter")

"YOu have not uploaded any counseling this quarter"

Need this for FC?

/Users/swain/git/pippin/sites/nfmc-reporting/mods/tests/test_phase_based_prog_reports.py

** Mon Oct  9 11:28:56 2017 (Do write more test coverage for FC Edit Grantee_branch.)

Do write more test coverage for FC Edit Grantee_branch.

James put the fear in me that the wrong audit log event might be
used. Extend the pytest for this form to prove the right event is used.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/tests/test_phase_based_prog_reports.py

** Mon Oct  9 15:17:29 2017 ("You have not uploaded any counseling for this quarter" for )

"You have not uploaded any counseling for this quarter" for FC

This message should appear... shouldn't it?

/Users/swain/git/pippin/sites/nfmc/fc/test/test_programmatic_report.py

** Mon Oct 16 15:53:39 2017 (assert reporting_deadline is not None)

assert reporting_deadline is not None

when creating quarterly reports: quarter 6 will not get a report, and
its reporting deadline is NULL (I think). Assert this is so when
creating quarterly reports.


** Fri Nov 10 10:23:46 2017 (Check all FC canned reports screen for the demo grantee)

Check all FC canned reports screen for the demo grantee

/Users/swain/git/pippin/sites/nfmc/fc/reports/counseling_record_aggregate.py

** Thu Nov 30 16:30:31 2017 (When creating an FC final report:)

When creating an FC final report:

delete any upload prohibitions
disable any FC phase editing fields in Edit Grantee

/Users/swain/git/pippin/sites/nfmc-reporting/mods/orgdetails.py

** Thu Dec  7 17:03:00 2017 (write a valiator proving no duplicate fc record points to an)

write a valiator proving no duplicate fc record points to an undone record.

** Fri Dec  8 16:06:36 2017 (viewing undone upload in csv upload logs: stack trace)

viewing undone upload in csv upload logs: stack trace

Traceback (most recent call last):
  File "/Users/swain/ssc/nfmc-reporting/pippin-core/pippin-fcgi.py", line 22, in <module>
    main()
  File "/Users/swain/ssc/nfmc-reporting/pippin-core/pippin-fcgi.py", line 18, in main
    server.run()
  File "/Users/swain/ssc/pippin-core/pippin_fastcgi_server.py", line 34, in run
    respawn = super(PipFastCGIServer, self).run(*args, **kwargs)
  File "/Users/swain/.vpy/27production0/lib/python2.7/site-packages/flup/server/fcgi_single.py", line 119, in run
    ret = SingleServer.run(self, sock)
  File "/Users/swain/.vpy/27production0/lib/python2.7/site-packages/flup/server/singleserver.py", line 94, in run
    conn.run()
  File "/Users/swain/.vpy/27production0/lib/python2.7/site-packages/flup/server/fcgi_base.py", line 646, in run
    self.process_input()
  File "/Users/swain/.vpy/27production0/lib/python2.7/site-packages/flup/server/fcgi_base.py", line 682, in process_input
    self._do_params(rec)
  File "/Users/swain/.vpy/27production0/lib/python2.7/site-packages/flup/server/fcgi_base.py", line 781, in _do_params
    self._start_request(req)
  File "/Users/swain/.vpy/27production0/lib/python2.7/site-packages/flup/server/fcgi_base.py", line 765, in _start_request
    req.run()
  File "/Users/swain/.vpy/27production0/lib/python2.7/site-packages/flup/server/fcgi_base.py", line 558, in run
    protocolStatus, appStatus = self.server.handler(self)
  File "/Users/swain/ssc/pippin-core/pippin_fastcgi_server.py", line 69, in handler
    return super(PipFastCGIServer, self).handler(req)
  File "/Users/swain/.vpy/27production0/lib/python2.7/site-packages/flup/server/fcgi_base.py", line 1118, in handler
    result = self.application(environ, start_response)
  File "/Users/swain/ssc/pippin-core/pippin.py", line 1083, in __call__
    resp = self.handle_request(req)
  File "/Users/swain/ssc/pippin-core/pippin_logging.py", line 91, in wrapper
    return wrapped(*args, **kwargs)
  File "/Users/swain/ssc/pippin-core/pippin.py", line 794, in handle_request
    self.fireRegularActions(page, runDirActions=run_dir_actions)
  File "/Users/swain/ssc/pippin-core/pippin.py", line 507, in fireRegularActions
    self.fireActions(actions, page)
  File "/Users/swain/ssc/pippin-core/pippin.py", line 469, in fireActions
    gaf(a)(page=page,request=req)
  File "/Users/swain/ssc/py/htmlforms.py", line 450, in run_controller
    form.process(page, request, request.httpmethod.lower())
  File "/Users/swain/ssc/py/htmlforms.py", line 554, in process
    self.populate(request, method)
  File "/Users/swain/ssc/sites/nfmc/fc/actions/undo.py", line 100, in populate
    self._populate_undo_controls(request, upload)
  File "/Users/swain/ssc/sites/nfmc/fc/actions/undo.py", line 109, in _populate_undo_controls
    phonetic_spelling.from_int(upload.id))
  File "/Users/swain/ssc/sites/nfmc/fc/model/counseling_csv_upload.py", line 211, in __getattr__
    raise AttributeError(name)  # pragma: no cover
AttributeError: id

** Fri Dec  8 16:24:37 2017 (Emails for FCUU claim threshold change due to grey zone voti)

Emails for FCUU claim threshold change due to grey zone voting, needs fixing.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/grantee_actions.py

** Fri Dec  8 16:36:43 2017 (Handle errors when undoing:)

Handle errors when undoing:

		# undo the upload
		error = undorecords.undo_nfmc_upload(rue.id)
		if error is not None:
			self.results.append(("Cannot undo the upload. Please contact NWA."
			                     "  The error was: '%s'") % (error,))
			AuditLog.log(LogEventType.GRANTEE_FAILED_TO_UNDO_UPLOAD, rue,
						 ("Grantee could not undo upload '%s'; reason: '%s'" %
						  (event_code, error)))
			return


/Users/swain/git/pippin/sites/nfmc-reporting/mods/grantee_actions.py

** Mon Dec 11 15:40:27 2017 (Cannot undo a resurrected upload)

Cannot undo a resurrected upload

The csv upload report won't render the link to the report because
was_successful is false. This is because there's no audit log event
502 for the upload. We can insert one to make it successful, thus
causing the report to paint it.

** Wed Dec 13 22:37:50 2017 (Should this report exclude undone records?)

Should this report exclude undone records?

https://test.nfmc-reporting.org/reports/report/grantee_fc_duplicate_records?report_result_id=110308&org_id=3032&polytime=quarter_2

/Users/swain/git/pippin/sites/nfmc-reporting/mods/orgdetails.py

** Thu Dec 21 11:23:39 2017 (We need to use the form to delete an unstarted quarterly rep)

We need to use the form to delete an unstarted quarterly report

This is only available to NWA via a canned report that hasn't been
implemented yet.

/Users/swain/git/pippin/sites/nfmc-reporting/mods/programmatic_report_actions.py

** Mon Jan  8 13:09:01 2018 (For FC periodic reports, "answered question" alet uses... wh)

For FC periodic reports, "answered question" alet uses... what?

I did not define audit log event types for when a grantee answers a
question, so it might be a bug that any audit log entry is referring
to the wrong table.

/Users/swain/notebooks/developer-notes/swain/notes/call_notes/fc_release_notes.markdown

** Tue Jan  9 08:22:15 2018 (Do a database refactoring here:)

Do a database refactoring here:

https://www.nfmc-reporting.org/schema/Table.html?name=grantee_area_goal&schema=fc#fc.grantee_area_goal.granted_proposed_production_units

area_id should be geographic_area_id, and
granted_proposed_production_units should be renamed to something meaningful.

/Users/swain/git/pippin/postgres/nfmc/fc/views/geographic_area_need_status_phase.sql

** Thu Jan 11 10:13:22 2018 (For FC_ONE_OR_ALL_QUARTERS, make sure we return testable val)

For FC_ONE_OR_ALL_QUARTERS, make sure we return testable values

We should return one quarter and all_quarters for test_canned_report.py

/Users/swain/git/pippin/sites/nfmc/fc/reports/production.py

** Fri Jan 12 16:19:45 2018 (Possible bug:)

Possible bug:

Upload 10 records to greenpath
fill out quarterly report and submit
upload a different 10 records
run "Credited Financial Counseling from "GreenPath, Inc." for Quarter
3"

should it show 20 records? shouldn't it be 10?

** Tue Jan 23 16:51:47 2018 (Question12 does not have the description:)

Question12 does not have the description:

12.	Please describe in detail how Program-Related Support funds were
utilized during the reporting period. If applicable, include
information on the use of Program-Related Support funds by
Sub-grantees, Branches, and Affiliates as well as the use of any
Program-Related Support funds retained by the Grantee. For NWOs
delivering services via Contracted Counseling Entities (CCEs), please
include information on those organizations' uses of Program-Related
Support funds.

This description varies from the quarterly to the final in a minor way.

/Users/swain/git/pippin/postgres/nfmc/dbUpdates.trac_8517_fc_final_reports.sql

** Wed Jan 24 16:24:28 2018 (quarterly report question 16 should be forced if zero on the)

quarterly report question 16 should be forced if zero on the 15th
question

per the spec

** Wed Jan 24 16:37:20 2018 (Check that quarterly question 20 and final question 18 enfor)

Check that quarterly question 20 and final question 18 enforce "2-3 successes"

/Users/swain/git/pippin/sites/nfmc-reporting/mods/tests/test_phase_based_prog_reports.py


** Tue Feb 20 14:15:12 2018 (Add hook to disable auto-fill-mode in csv-mode)

Add hook to disable auto-fill-mode in csv-mode

/Users/swain/scratch/8222.first.csv

** Tue Feb 20 14:31:01 2018 (Compute the maximum possible records in fc)

Compute the maximum possible records in fc

This is just math. We know all the grants for all the grantees; assume
every one of them hits 102%. Assume three records for every client, if
possible.

Now see how the database performs with this amount of data.


** Wed Feb 28 16:35:36 2018 (Create an index on nfmc.audit_log.event_time, then try uploa)

Create an index on nfmc.audit_log.event_time, then try uploading.

** Mon Mar  5 14:30:03 2018 (only tiers 1a, 1b allowed)

only tiers 1a, 1b allowed

/Users/swain/notebooks/neighborworks/financial_capability_phase_2/financial_capability_phase_2.org

** Mon Mar 19 12:02:05 2018 (Revisit tweak to trigger)

Revisit tweak to trigger


And I think this commit should be using IS DISTINCT FROM instead of
<>:

#+BEGIN_SRC diff
commit d5637ec0bde2aaf7cf9d2990ad0a120d6080911b
Author: Steve Wainstead <swain@socialserve.com>
Date:   Tue Feb 13 14:29:49 2018 -0500

    Don't compare with undone records in trigger

diff --git a/pippin/postgres/nfmc/fc/functions/check_counseling_record_client.sql b/pippin/postgres/nfmc/fc/functions/check_counseling_record_client.sql
index 781554645b..5640967fe3 100644
--- a/pippin/postgres/nfmc/fc/functions/check_counseling_record_client.sql
+++ b/pippin/postgres/nfmc/fc/functions/check_counseling_record_client.sql
@@ -16,6 +16,9 @@ BEGIN
 		SELECT 1
 		FROM fc.counseling_record_augmented other_cr
 		WHERE other_cr.counseling_record_id != NEW.counseling_record_id
+			-- it's not undone
+			AND other_cr.counseling_record_id <>
+				other_cr.duplicate_of_counseling_record_id
 			AND other_cr.grantee_id = newa.grantee_id
 			AND other_cr.branch_id = NEW.branch_id
 			AND other_cr.client_uid = NEW.client_uid
#+END_SRC

so let's leave that on the table for now. I should probably file a
ticket for it or put in in NOTES.


/Users/swain/notebooks/developer-notes/swain/LOG.org

** Tue Mar 27 14:53:10 2018 (Improve my TAGS file to exlude stuff like waitlist)

Improve my TAGS file to exlude stuff like waitlist

/Users/swain/git/pippin/sites/nfmc/fc/generator.py

** Wed Apr 18 10:27:21 2018 (Can I kill an FC quarterly report that has answers?)

Can I kill an FC quarterly report that has answers?

Is that OK to do?

** Thu Apr 19 16:40:04 2018 (When creating final reports the page takes over four seconds)

When creating final reports the page takes over four seconds.

What's holding it up?

** Fri Apr 27 11:35:43 2018 (org-agenda files: revisit.)

org-agenda files: revisit.

(setq org-agenda-files (list "~/.emacs.d/emacs.org"
                             "~/notebooks/developer-notes/swain/todo-lists/todo.org"
                             ))


/Users/swain/notebooks/developer-notes/swain/dotemacs.nfmc

** Fri Apr 27 11:49:22 2018 (Code up my log buffers to truncate past a certain size)

Code up my log buffers to truncate past a certain size

;; for shell buffers, truncate them when they get too big
;;(add-hook 'comint-output-filter-functions 'comint-truncate-buffer)

and

https://emacs.stackexchange.com/questions/13750/how-do-i-automatically-truncate-a-growing-buffer

Maybe I should have local variables for each buffer that determines
the size beyond which they are truncated.

/Users/swain/.emacs.d/swainlib.el
